---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
suppressPackageStartupMessages({
  library(dplyr)
  library(ggplot2)
  
  library(mininetpbm)
})

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# mininetpbm

`mininetpbm` is a package for writing vectors, matrices and arrays as NETPBM
image files i.e. PGM and PPM formats.


## Installation

You can install the released version of mininetpbm from [github](https://github.com/coolbutuseless/mininetpbm) with:

``` r
remotes::install_github('coolbutuseless/mininetpbm')
```

<!-- ## Outputting a 1D vector as a PGM file -->


<!-- ```{r example} -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- # Create a integer vector with length NxN, and a matrix version as well -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- N       <- 255 -->
<!-- int_vec <- rep.int(seq(N), N) %% 256 -->
<!-- int_mat <- matrix(int_vec, N, N, byrow = TRUE) -->
<!-- dbl_mat <- int_mat/255 -->

<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- # write the vector as a PGM image file -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- write_pgm(int_vec, N, N, "man/figures/mini.pgm") -->
<!-- ``` -->

<!-- ```{r echo = FALSE} -->
<!-- system("convert man/figures/mini.pgm man/figures/mini.png") -->
<!-- ``` -->

<!-- ![](man/figures/mini.png) -->


<!-- ## Outputting a 2D matrix as a PGM file -->

<!-- ```{r} -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- # write the matrix as a PGM image file -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- write_pgm_from_matrix(int_mat, "man/figures/mini2.pgm") -->
<!-- ``` -->

<!-- ```{r echo = FALSE} -->
<!-- system("convert man/figures/mini.pgm man/figures/mini2.png") -->
<!-- ``` -->

<!-- ![](man/figures/mini2.png) -->



<!-- ## Outputting a 3D array as a PPM file -->

<!-- ```{r} -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- # Create integer matrices for R, G, B planes -->
<!-- # Stack into a 3D array -->
<!-- #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<!-- N       <- 255 -->
<!-- int_vec <- rep.int(seq(N), N) %% 256 -->
<!-- int_mat <- matrix(int_vec, nrow = N, ncol = N, byrow = TRUE) -->

<!-- r <- int_mat -->
<!-- g <- t(int_mat) -->
<!-- b <- int_mat[, rev(seq(ncol(int_mat)))] -->

<!-- int_arr <- array(c(r, g, b), dim = c(N, N, 3)) -->
<!-- write_ppm_from_array(int_arr, "man/figures/mini3.ppm") -->
<!-- ``` -->

<!-- ```{r echo = FALSE} -->
<!-- system("convert man/figures/mini3.ppm man/figures/mini3.png") -->
<!-- ``` -->

<!-- ![](man/figures/mini3.png) -->



<!-- # Bonus - write a greyscale vector mapped to a `viridis` colour map -->

<!-- ```{r} -->
<!-- write_ppm_with_viridis(int_vec, N, N, "man/figures/mini4.ppm", pal = 'inferno') -->
<!-- ``` -->

<!-- ```{r echo = FALSE} -->
<!-- system("convert man/figures/mini4.ppm man/figures/mini4.png") -->
<!-- ``` -->

<!-- ![](man/figures/mini4.png) -->


<!-- ```{r} -->
<!-- N       <- 499 -->
<!-- int_vec <- rep.int(seq(N), N) %% 256 -->
<!-- int_mat <- matrix(int_vec, N, N, byrow = TRUE) -->
<!-- dbl_mat <- int_mat/255 -->


<!-- res <- bench::mark( -->
<!--   write_pgm_from_matrix(int_mat, "man/figures/mini2.pgm"), -->
<!--   png::writePNG(dbl_mat, "man/figures/mini2.png") -->
<!-- ) -->

<!-- res -->

<!-- plot(res) -->
<!-- ``` -->






